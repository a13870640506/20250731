import{l as r,o as P,f as I,U as l,w as a,P as e,B as m,aP as h,Q as w,$ as D,a0 as S}from"./index-D8EcwpnI.js";import{E as C,s as B,a as d,t as N,c as k,d as z,e as F}from"./el-notification-BoPLE-YD.js";import{E as G}from"./el-button-Btlko-dl.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CPzh3zQQ.js";import"./vnode-BXo6xhNu.js";const t=f=>(D("data-v-7e50a346"),f=f(),S(),f),A={class:"div-mian"},J={class:"line0"},R=t(()=>e("h3",null,"数据集类型",-1)),L=t(()=>e("p",null,"仅使用官方文档时序预测的TsDataset数据集",-1)),M=t(()=>e("select",{name:"dataset",class:"data"},[e("option",null,"TsDataset")],-1)),O=t(()=>e("h3",null,"数据集导入",-1)),Q=t(()=>e("p",null,"导入训练所使用的数据集",-1)),j=t(()=>e("h3",null,"输入长度",-1)),q=t(()=>e("p",null,"每次训练及预测时输入的前序时间步长",-1)),H=t(()=>e("h3",null,"预测长度",-1)),K=t(()=>e("p",null,"每次训练及预测时输入的后序时间步长",-1)),W={class:"line",style:{width:"100%","margin-top":"16px"}},X=t(()=>e("h3",null,"选择设备",-1)),Y=t(()=>e("p",null,"选择训练使用设备，推荐使用GPU",-1)),Z=t(()=>e("select",{name:"device",class:"data"},[e("option",null,"GPU"),e("option",null,"CPU")],-1)),ee=t(()=>e("h3",null,"设备ID",-1)),te=t(()=>e("p",null,"仅支持单卡，默认值为0",-1)),se=t(()=>e("input",{type:"number",class:"data"},null,-1)),le={class:"line0"},ae=t(()=>e("h3",null,"学习率(Learning Rate)",-1)),oe=t(()=>e("p",null,"控制模型参数更新的步长",-1)),ne=t(()=>e("h3",null,"批大小(Batch Size)",-1)),ue=t(()=>e("p",null,"用于提高模型的精度，常设置为2的指数倍",-1)),ie=t(()=>e("h3",null,"迭代次数(Epochs)",-1)),de=t(()=>e("p",null,"每次迭代所使用的样本数量",-1)),_e={class:"line"},ce=t(()=>e("h3",null,"选择设备",-1)),pe=t(()=>e("p",null,"选择训练使用设备，推荐使用GPU",-1)),re=t(()=>e("select",{name:"device",class:"data"},[e("option",null,"GPU"),e("option",null,"CPU")],-1)),me=t(()=>e("h3",null,"设备ID",-1)),he=t(()=>e("p",null,"仅支持单卡，默认值为0",-1)),fe=t(()=>e("input",{type:"number",class:"data"},null,-1)),ge={class:"line",style:{height:"102px"}},ve=t(()=>e("h3",null,"输出目录(模型训练完成后的保存目录)",-1)),ye={class:"line",style:{height:"102px","margin-top":"14px"}},be=t(()=>e("h3",null,"启动训练",-1)),we=t(()=>e("input",{type:"text",class:"data",placeholder:"设置好以上参数后,点开始训练按钮启动模型训练",disabled:"disabled"},null,-1)),xe={__name:"userAvatar",setup(f){const v=r("1"),n=r({input_length:"",output_length:"",time_colname:"",group_name:"",target_colname:"",observe_colname:"",learning_rate:"",batch_size:"",epochs:"",output_directory:""}),c=r(!1),x=async()=>{c.value=!0;const o=JSON.stringify(n.value);console.log(o);try{const s=await B(o);s.data.code===200?(console.log("Success:",s.data),setTimeout(()=>{d({message:"状态码：200，"+s.data.message,type:"success",offset:54}),c.value=!1},1e3)):response.data.code===400?setTimeout(()=>{d({message:"状态码：400，"+s.data.message,type:"error",offset:54}),c.value=!1},1e3):setTimeout(()=>{d({message:"未知错误（状态码".concat(s.status,"）"),type:"error",offset:54}),c.value=!1},1e3)}catch(s){console.log("Error:",s),setTimeout(()=>{d({title:"提交失败（请求异常）",message:"请检查后台IP地址和运行状态",type:"error",offset:54}),c.value=!1},1e3)}},T=r(null),g=r(null),U=o=>{const s=o.target.files[0];s&&(T.value=s,g.value=new FormData,g.value.append("file",s),console.log(g.value))},_=r(!1),V=async()=>{try{_.value=!0;const o=await N(g.value);o.data.code===200?setTimeout(()=>{d({message:"状态码：200，"+o.data.message,type:"success",offset:54}),_.value=!1},1e3):o.data.code===400?setTimeout(()=>{d({message:"状态码：400，"+o.data.message,type:"error",offset:54}),_.value=!1},1e3):setTimeout(()=>{d({message:"未知错误（状态码".concat(o.status,"）"),type:"error",offset:54}),_.value=!1},1e3),console.log(o)}catch(o){_.value=!0,setTimeout(()=>{d({title:"训练失败（请求异常）",message:"请检查后台IP地址和运行状态",type:"error",offset:54}),_.value=!1},1e3),console.log(o)}};return(o,s)=>{const u=k,p=z,y=F,b=G,E=C;return P(),I("div",A,[l(E,{modelValue:v.value,"onUpdate:modelValue":s[6]||(s[6]=i=>v.value=i)},{default:a(()=>[l(y,{label:"数据校验",name:"1"},{default:a(()=>[e("div",J,[l(p,{class:"el-row1",gutter:30},{default:a(()=>[l(u,{span:6},{default:a(()=>[R,L,M]),_:1}),l(u,{span:6},{default:a(()=>[O,Q,e("input",{type:"file",class:"data",onChange:U},null,32)]),_:1}),l(u,{span:6},{default:a(()=>[j,q,m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>n.value.input_length=i),type:"number",class:"data",placeholder:"请输入一个整数"},null,512),[[h,n.value.input_length]])]),_:1}),l(u,{span:6,class:"line1-col2"},{default:a(()=>[H,K,m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>n.value.output_length=i),type:"number",class:"data",placeholder:"请输入一个整数"},null,512),[[h,n.value.output_length]])]),_:1})]),_:1})]),e("div",W,[l(p,{class:"el-row3",gutter:30},{default:a(()=>[l(u,{span:12},{default:a(()=>[X,Y,Z]),_:1}),l(u,{span:12},{default:a(()=>[ee,te,se]),_:1})]),_:1})])]),_:1}),l(y,{label:"模型训练",name:"2"},{default:a(()=>[e("div",le,[l(p,{class:"el-row1",gutter:30},{default:a(()=>[l(u,{span:8},{default:a(()=>[ae,oe,m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>n.value.learning_rate=i),type:"number",step:"0.0001",class:"data",placeholder:"示例: 0.0001",style:{width:"360px"}},null,512),[[h,n.value.learning_rate]])]),_:1}),l(u,{span:8},{default:a(()=>[ne,ue,m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>n.value.batch_size=i),type:"number",class:"data",placeholder:"请输入一个整数",style:{width:"360px"}},null,512),[[h,n.value.batch_size]])]),_:1}),l(u,{span:8},{default:a(()=>[ie,de,m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>n.value.epochs=i),type:"number",class:"data",placeholder:"请输入一个整数",style:{width:"360px"}},null,512),[[h,n.value.epochs]])]),_:1})]),_:1})]),e("div",_e,[l(p,{class:"el-row3",gutter:30},{default:a(()=>[l(u,{span:12},{default:a(()=>[ce,pe,re]),_:1}),l(u,{span:12},{default:a(()=>[me,he,fe]),_:1})]),_:1})]),e("div",ge,[l(p,{class:"el-row3",gutter:30},{default:a(()=>[l(u,{span:12},{default:a(()=>[ve,m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>n.value.output_directory=i),type:"text",class:"data",placeholder:"示例: ./output"},null,512),[[h,n.value.output_directory]])]),_:1})]),_:1})]),l(b,{type:"primary",style:{width:"100%","margin-top":"14px"},onClick:x,loading:c.value},{default:a(()=>[w(" 参数提交 ")]),_:1},8,["loading"]),e("div",ye,[l(p,{class:"el-row3",gutter:30},{default:a(()=>[l(u,{span:12},{default:a(()=>[be,we]),_:1})]),_:1})]),l(b,{type:"primary",style:{width:"100%","margin-top":"14px"},onClick:V,loading:_.value},{default:a(()=>[w(" 开始训练 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["modelValue"])])}}},De=$(xe,[["__scopeId","data-v-7e50a346"]]);export{De as default};
